import React, { useState, useEffect } from 'react';
import './Reviews.scss'


const Review = ({reviews}) => {
    
    const [correntIndex, setCorrentIndex] = useState(0)

    useEffect(() => {
        setTimeout(() => {
            forwardReview()}, 5000)
        }, [correntIndex])

    function backReview() {
        const back = correntIndex - 1
    if(back >= 0) {
        setCorrentIndex(back)
    } else {
        setCorrentIndex(reviews.length-1)
    }
}

    function forwardReview() {
        const forward = correntIndex + 1
        if(forward <= reviews.length-1) {
            setCorrentIndex(forward)
        } else {
            setCorrentIndex(0)
        }
    }

    return (
        <div className='review__slider'>
            <div className='leftArrow' onClick={backReview}>
                <svg xmlns="http://www.w3.org/2000/svg" width="482.667" height="482.667" version="1.0" viewBox="0 0 362 362"><path d="M215.5 55.9c-5.1 3.2-110.3 109.4-111.5 112.5-2.7 7.4-3.9 5.9 55.3 65.3 38.8 38.9 56.1 55.6 58.4 56.4 9.3 3 18.8-6 16.2-15.4-.6-2.4-13.7-16-50.4-52.7L134 172.5l50-50c51.9-51.9 50.8-50.7 50.1-57.5-1-8.9-11.1-13.8-18.6-9.1z"/></svg>
            </div>
            <div className='review'>
                {/* <h3>{reviews[correntIndex].title} </h3> */}
                <div className='review__body'>
                    <div className="review__card">
                        <img src={reviews[correntIndex].img}/>  
                    </div>
                    <div className='review__text'>
                        <h2>
                            {reviews[correntIndex].name}
                        </h2>
                       <svg xmlns="http://www.w3.org/2000/svg" width="266.667" height="53.333" version="1.0" viewBox="0 0 200 40"><path d="M17.305 3.019c-.586.226-1.64 1.849-3.242 4.868-2.149 4.188-2.422 4.528-3.594 4.717-.703.15-3.047.49-5.195.792C.859 14.076 0 14.566 0 16.566c0 1.245.352 1.698 3.79 4.792l3.75 3.472-.86 5.132c-.82 4.793-.86 5.246-.274 6.076 1.133 1.66 2.188 1.585 6.563-.604 2.227-1.057 4.336-2.151 4.727-2.377.546-.34 1.601.037 5.586 2 4.18 2.075 5.078 2.377 5.937 2.075 1.914-.641 2.07-1.698 1.133-7.283l-.86-5.019 3.829-3.547c3.32-3.094 3.789-3.698 3.789-4.793 0-1.886-.899-2.415-5.274-3.056-2.148-.34-4.492-.68-5.195-.793-1.172-.226-1.445-.566-3.594-4.754-2.656-5.095-3.437-5.774-5.742-4.868zM57.891 3.019c-.625.264-1.523 1.66-3.047 4.792-1.171 2.415-2.187 4.453-2.265 4.529-.04.075-2.461.452-5.352.867-5.703.868-6.601 1.283-6.601 3.17 0 .981.625 1.774 3.828 4.868l3.867 3.698-.742 4.038c-1.172 6.717-1.055 7.66 1.172 8.189.82.188 2.03-.264 5.742-2.113l4.727-2.34 4.804 2.302c2.617 1.283 5.04 2.34 5.313 2.34.312 0 1.015-.416 1.64-.906l1.055-.906-.86-5.32-.898-5.321 3.555-3.283c3.984-3.623 4.57-4.604 3.867-6.19-.508-1.244-1.562-1.622-6.21-2.226-5.86-.717-5.235-.301-7.852-5.32-2.618-5.095-3.399-5.774-5.743-4.868zM98.83 3.056c-.782.265-1.563 1.434-3.321 4.868-2.578 5.02-1.953 4.566-7.617 5.283-4.22.566-5.782 1.02-6.25 1.887-.86 1.547-.43 2.34 3.515 6.189l3.868 3.811-.82 4.717c-.977 5.434-.821 6.49.937 7.208 1.172.453 1.445.377 6.015-1.925l4.805-2.415 4.844 2.378c4.649 2.301 4.922 2.415 6.094 1.924 1.719-.68 1.875-1.736.898-7.17l-.82-4.717 3.867-3.811c3.907-3.85 4.375-4.642 3.516-6.151-.508-.981-1.133-1.132-6.563-1.925-2.656-.377-4.883-.754-4.96-.83-.04-.075-1.094-2-2.266-4.302-1.172-2.264-2.383-4.34-2.696-4.566-.82-.641-1.992-.83-3.047-.453zM139.572 3.019c-.586.226-1.64 1.811-3.203 4.868-2.617 5.019-1.992 4.603-7.852 5.32-4.648.604-5.703.982-6.21 2.227-.704 1.585-.118 2.566 3.866 6.189l3.555 3.283-.898 5.32-.86 5.321 1.055.906c.625.49 1.367.905 1.719.905.312 0 2.695-1.056 5.273-2.34l4.688-2.339 4.766 2.378c3.75 1.849 4.96 2.301 5.78 2.113 2.228-.529 2.345-1.472 1.173-8.189l-.742-4.038 3.867-3.698c3.203-3.094 3.828-3.887 3.828-4.868 0-1.887-.898-2.34-6.602-3.132-2.851-.415-5.234-.792-5.312-.868-.04-.075-1.172-2.188-2.461-4.679-2.617-5.057-3.203-5.547-5.43-4.68zM180.198 3.019c-.586.226-1.641 1.849-3.243 4.868-2.148 4.188-2.422 4.528-3.593 4.754-.704.114-3.047.453-5.196.793-4.375.641-5.273 1.17-5.273 3.056 0 1.095.468 1.699 3.789 4.793l3.828 3.547-.86 5.019c-.937 5.585-.78 6.642 1.133 7.283.86.302 1.72 0 5.86-2.038l4.805-2.377 4.804 2.34c5.196 2.566 6.172 2.679 7.344.98.586-.83.547-1.282-.273-6.037l-.86-5.17 3.75-3.434c3.438-3.132 3.79-3.585 3.79-4.83 0-2-.86-2.49-5.274-3.17-2.148-.302-4.492-.641-5.195-.792-1.172-.189-1.446-.529-3.594-4.717-2.656-5.095-3.438-5.774-5.742-4.868z"/></svg>
                        <p>{reviews[correntIndex].text}</p>
                        </div>
                    </div>
                </div>
            <div className='rightArrow' onClick={forwardReview}>
                <svg xmlns="http://www.w3.org/2000/svg" width="480" height="480" version="1.0" viewBox="0 0 360 360"><path d="M134.5 71.4c-6 2.7-9.1 8.8-7.4 14.8.6 2.5 13.5 15.9 50.4 52.8l49.5 49.5-50 50c-51.9 51.9-50.8 50.7-50.1 57.5 1 8.5 10.4 13.6 17.9 9.6 4.3-2.3 111-109.7 112.2-113 2.7-7.3 3.9-6-54.9-65-31.4-31.5-56-55.4-57.8-56.2-4-1.7-5.9-1.7-9.8 0z"/></svg>
            </div>
        </div>
    );
};

export default Review;